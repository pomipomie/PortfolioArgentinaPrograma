{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/portfolio.service\";\nimport * as i2 from \"src/app/services/autentication.service\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/common\";\n\nfunction AboutComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 29);\n    i0.ɵɵelement(1, \"i\", 30);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AboutComponent_div_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 31);\n    i0.ɵɵelement(1, \"i\", 30);\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport let AboutComponent = /*#__PURE__*/(() => {\n  class AboutComponent {\n    constructor(datosPortfolio, autenticationService, formBuilder) {\n      this.datosPortfolio = datosPortfolio;\n      this.autenticationService = autenticationService;\n      this.formBuilder = formBuilder;\n      this.loggedUser = false; //debe ser false al inicio\n\n      this.url = \"/portfolioap/user\";\n      this.form1 = formBuilder.group({\n        picUrl: ['', [Validators.required]],\n        firstName: ['', [Validators.required]],\n        lastName: ['', [Validators.required]]\n      });\n      this.form2 = formBuilder.group({\n        aboutText: ['', [Validators.required]],\n        birthDate: ['']\n      });\n    }\n\n    ngOnInit() {\n      this.datosPortfolio.obtenerDatos().subscribe(data => {\n        this.myPortfolio = data;\n        this.bDay = this.myPortfolio.birthDate[8] + this.myPortfolio.birthDate[9];\n\n        switch (this.myPortfolio.birthDate[5] + this.myPortfolio.birthDate[6]) {\n          case '01':\n            this.bMonth = 'enero';\n            break;\n\n          case '02':\n            this.bMonth = 'febrero';\n            break;\n\n          case '03':\n            this.bMonth = 'marzo';\n            break;\n\n          case '04':\n            this.bMonth = 'abril';\n            break;\n\n          case '05':\n            this.bMonth = 'mayo';\n            break;\n\n          case '06':\n            this.bMonth = 'junio';\n            break;\n\n          case '07':\n            this.bMonth = 'julio';\n            break;\n\n          case '08':\n            this.bMonth = 'agosto';\n            break;\n\n          case '09':\n            this.bMonth = 'septiembre';\n            break;\n\n          case '10':\n            this.bMonth = 'octubre';\n            break;\n\n          case '11':\n            this.bMonth = 'noviembre';\n            break;\n\n          case '12':\n            this.bMonth = 'diciembre';\n            break;\n        }\n\n        this.bYear = this.myPortfolio.birthDate[0] + this.myPortfolio.birthDate[1] + this.myPortfolio.birthDate[2] + this.myPortfolio.birthDate[3];\n      });\n\n      if (this.autenticationService.getUserLogged() != '') {\n        this.loggedUser = true;\n      } else {\n        this.loggedUser = false;\n      }\n    }\n\n    onSave() {\n      if (this.form1.valid) {\n        let d = this.form1.value;\n        d.aboutText = this.myPortfolio.aboutText;\n        d.birthDate = this.myPortfolio.birthDate;\n        d.location = this.myPortfolio.location;\n        d.phone = this.myPortfolio.phone;\n        d.email = this.myPortfolio.email;\n        d.password = this.myPortfolio.password;\n        d.gitHub = this.myPortfolio.gitHub;\n        d.twitter = this.myPortfolio.twitter;\n        d.facebook = this.myPortfolio.facebook;\n        d.instagram = this.myPortfolio.instagram;\n        d.codePen = this.myPortfolio.codePen;\n        d.linkedIn = this.myPortfolio.linkedIn;\n        d.id = this.autenticationService.getUserLogged();\n        this.datosPortfolio.editUser(d).subscribe(d => {\n          this.user = d;\n          window.location.reload();\n        });\n      } else {\n        alert(\"Formulario inválido\");\n      }\n    }\n\n    onSaveInfo() {\n      if (this.form2.valid) {\n        let d = this.form2.value;\n        d.picUrl = this.myPortfolio.picUrl;\n        d.firstName = this.myPortfolio.firstName;\n        d.lastName = this.myPortfolio.lastName;\n        d.location = this.myPortfolio.location;\n        d.phone = this.myPortfolio.phone;\n        d.email = this.myPortfolio.email;\n        d.password = this.myPortfolio.password;\n        d.gitHub = this.myPortfolio.gitHub;\n        d.twitter = this.myPortfolio.twitter;\n        d.facebook = this.myPortfolio.facebook;\n        d.instagram = this.myPortfolio.instagram;\n        d.codePen = this.myPortfolio.codePen;\n        d.linkedIn = this.myPortfolio.linkedIn;\n\n        if (d.birthDate == \"\") {\n          d.birthDate = this.myPortfolio.birthDate;\n        }\n\n        d.id = this.autenticationService.getUserLogged();\n        this.datosPortfolio.editUser(d).subscribe(d => {\n          this.user = d;\n          window.location.reload();\n        });\n      } else {\n        alert(\"Formulario inválido\");\n      }\n    }\n\n  }\n\n  AboutComponent.ɵfac = function AboutComponent_Factory(t) {\n    return new (t || AboutComponent)(i0.ɵɵdirectiveInject(i1.PortfolioService), i0.ɵɵdirectiveInject(i2.AutenticationService), i0.ɵɵdirectiveInject(i3.FormBuilder));\n  };\n\n  AboutComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AboutComponent,\n    selectors: [[\"app-about\"]],\n    decls: 54,\n    vars: 21,\n    consts: [[\"id\", \"aboutcontainer\"], [\"id\", \"avatar\"], [\"id\", \"avatarpic\"], [\"width\", \"80%\", \"alt\", \"avatar picture\", 3, \"src\"], [\"id\", \"avatartext\"], [\"href\", \"javascript:void(0)\", \"onclick\", \"document.getElementById('editname').style.display='block'\"], [\"class\", \"pencilbtn\", \"id\", \"pencil-name\", 4, \"ngIf\"], [\"id\", \"editname\", 1, \"modal\"], [\"method\", \"put\", 1, \"modal-content\", \"animate\", 3, \"formGroup\", \"ngSubmit\"], [\"for\", \"picUrl\"], [\"type\", \"url\", \"formControlName\", \"picUrl\", \"name\", \"picUrl\", 3, \"placeholder\", \"value\"], [\"for\", \"firstName\"], [\"type\", \"text\", \"formControlName\", \"firstName\", \"name\", \"firstName\", 3, \"placeholder\", \"value\"], [\"for\", \"lastName\"], [\"type\", \"text\", \"formControlName\", \"lastName\", \"name\", \"lastName\", 3, \"placeholder\", \"value\"], [\"id\", \"submitname\", \"type\", \"submit\", 1, \"submitbtn\"], [\"id\", \"notsubmitname\", \"onclick\", \"document.getElementById('editname').style.display='none'\", \"type\", \"button\", 1, \"submitbtn\"], [\"id\", \"sobremi\"], [\"href\", \"javascript:void(0)\", \"onclick\", \"document.getElementById('editinfo').style.display='block'\"], [\"class\", \"pencilbtn\", \"id\", \"pencil-desc\", 4, \"ngIf\"], [\"id\", \"under\"], [1, \"bi\", \"bi-balloon-heart-fill\"], [\"id\", \"editinfo\", 1, \"modal\"], [\"for\", \"aboutText\"], [\"formControlName\", \"aboutText\", \"name\", \"aboutText\", \"rows\", \"5\", 3, \"placeholder\", \"value\"], [\"for\", \"birthDate\"], [\"type\", \"date\", \"formControlName\", \"birthDate\", \"name\", \"birthDate\", 3, \"placeholder\", \"value\"], [\"id\", \"submitinfo\", \"type\", \"submit\", 1, \"submitbtn\"], [\"id\", \"notsubmitinfo\", \"onclick\", \"document.getElementById('editinfo').style.display='none'\", \"type\", \"button\", 1, \"submitbtn\"], [\"id\", \"pencil-name\", 1, \"pencilbtn\"], [1, \"bi\", \"bi-pencil-square\"], [\"id\", \"pencil-desc\", 1, \"pencilbtn\"]],\n    template: function AboutComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"section\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵelement(3, \"img\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"div\", 4);\n        i0.ɵɵelementStart(5, \"h1\");\n        i0.ɵɵtext(6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"a\", 5);\n        i0.ɵɵtemplate(8, AboutComponent_div_8_Template, 2, 0, \"div\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"div\", 7);\n        i0.ɵɵelementStart(10, \"form\", 8);\n        i0.ɵɵlistener(\"ngSubmit\", function AboutComponent_Template_form_ngSubmit_10_listener() {\n          return ctx.onSave();\n        });\n        i0.ɵɵelementStart(11, \"label\", 9);\n        i0.ɵɵtext(12, \"Cambiar foto de perfil\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(13, \"input\", 10);\n        i0.ɵɵelement(14, \"br\");\n        i0.ɵɵelementStart(15, \"label\", 11);\n        i0.ɵɵtext(16, \"Editar nombre\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(17, \"input\", 12);\n        i0.ɵɵelement(18, \"br\");\n        i0.ɵɵelementStart(19, \"label\", 13);\n        i0.ɵɵtext(20, \"Editar apellido\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(21, \"input\", 14);\n        i0.ɵɵelement(22, \"br\");\n        i0.ɵɵelementStart(23, \"button\", 15);\n        i0.ɵɵtext(24, \"Guardar cambios\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(25, \"br\");\n        i0.ɵɵelementStart(26, \"button\", 16);\n        i0.ɵɵtext(27, \"Cancelar\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"section\", 17);\n        i0.ɵɵelementStart(29, \"h2\");\n        i0.ɵɵtext(30, \"Sobre m\\u00ED \");\n        i0.ɵɵelementStart(31, \"a\", 18);\n        i0.ɵɵtemplate(32, AboutComponent_div_32_Template, 2, 0, \"div\", 19);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(33, \"p\");\n        i0.ɵɵtext(34);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(35, \"p\", 20);\n        i0.ɵɵelement(36, \"i\", 21);\n        i0.ɵɵtext(37);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(38, \"div\", 22);\n        i0.ɵɵelementStart(39, \"form\", 8);\n        i0.ɵɵlistener(\"ngSubmit\", function AboutComponent_Template_form_ngSubmit_39_listener() {\n          return ctx.onSaveInfo();\n        });\n        i0.ɵɵelementStart(40, \"label\", 23);\n        i0.ɵɵtext(41, \"Editar descripci\\u00F3n\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(42, \"textarea\", 24);\n        i0.ɵɵtext(43);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(44, \"br\");\n        i0.ɵɵelementStart(45, \"label\", 25);\n        i0.ɵɵtext(46, \"Editar fecha\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(47, \"input\", 26);\n        i0.ɵɵelement(48, \"br\");\n        i0.ɵɵelementStart(49, \"button\", 27);\n        i0.ɵɵtext(50, \"Guardar cambios\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(51, \"br\");\n        i0.ɵɵelementStart(52, \"button\", 28);\n        i0.ɵɵtext(53, \"Cancelar\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"src\", ctx.myPortfolio.picUrl, i0.ɵɵsanitizeUrl);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(ctx.myPortfolio.firstName + \" \" + ctx.myPortfolio.lastName);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.loggedUser);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"formGroup\", ctx.form1);\n        i0.ɵɵadvance(3);\n        i0.ɵɵpropertyInterpolate(\"placeholder\", ctx.myPortfolio.picUrl);\n        i0.ɵɵpropertyInterpolate(\"value\", ctx.myPortfolio.picUrl);\n        i0.ɵɵadvance(4);\n        i0.ɵɵpropertyInterpolate(\"placeholder\", ctx.myPortfolio.firstName);\n        i0.ɵɵpropertyInterpolate(\"value\", ctx.myPortfolio.firstName);\n        i0.ɵɵadvance(4);\n        i0.ɵɵpropertyInterpolate(\"placeholder\", ctx.myPortfolio.lastName);\n        i0.ɵɵpropertyInterpolate(\"value\", ctx.myPortfolio.lastName);\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"ngIf\", ctx.loggedUser);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.myPortfolio.aboutText);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate3(\" \", ctx.bDay, \" de \", ctx.bMonth, \" de \", ctx.bYear, \"\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"formGroup\", ctx.form2);\n        i0.ɵɵadvance(3);\n        i0.ɵɵpropertyInterpolate(\"placeholder\", ctx.myPortfolio.aboutText);\n        i0.ɵɵpropertyInterpolate(\"value\", ctx.myPortfolio.aboutText);\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\"                    \", ctx.myPortfolio.aboutText, \"\\n                \");\n        i0.ɵɵadvance(4);\n        i0.ɵɵpropertyInterpolate(\"placeholder\", ctx.myPortfolio.birthDate);\n        i0.ɵɵpropertyInterpolate(\"value\", ctx.myPortfolio.birthDate);\n      }\n    },\n    directives: [i4.NgIf, i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.FormGroupDirective, i3.DefaultValueAccessor, i3.NgControlStatus, i3.FormControlName],\n    styles: [\"#aboutcontainer[_ngcontent-%COMP%]{display:grid;justify-content:stretch;grid-template-areas:\\\"avatar sobremi sobremi\\\";grid-template-columns:35% auto auto;background-color:var(--pink);color:var(--bgdcolor);text-align:center}#aboutcontainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-weight:300;margin:0 2em 1em 1em;text-align:center}#avatar[_ngcontent-%COMP%]{grid-template-columns:1 / 2}#avatarpic[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:-2.5em;margin-left:.5em;background-color:var(--blue);border:.5em solid var(--blue);border-radius:1.5em;z-index:5;position:relative;max-width:400px;height:auto;object-fit:cover}#avatartext[_ngcontent-%COMP%]{display:flex;justify-items:center}#avatartext[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 .5em .5em;text-shadow:2px 2px 0 var(--blue);line-height:1.05em;padding-bottom:1em}#sobremi[_ngcontent-%COMP%]{grid-template-columns:2 / span 2}#sobremi[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:.5em;text-shadow:2px 2px 0 var(--blue)}#sobremi[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:before{content:\\\" \\\";width:120%;max-width:95vw;height:.9em;margin-bottom:7vw;margin-top:-1.5vw;margin-left:-40vw;position:absolute;background-color:var(--blue);z-index:-1;border-radius:3em}#under[_ngcontent-%COMP%]{font-style:italic}#pencil-name[_ngcontent-%COMP%]{position:relative;z-index:4}#pencil-desc[_ngcontent-%COMP%]{display:inline-block}.modal[_ngcontent-%COMP%]{display:none}@media screen and (min-width: 600px){#avatartext[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding:0 .5em 1em}#sobremi[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:before{width:110%;max-width:95vw}}@media screen and (min-width: 860px){#aboutcontainer[_ngcontent-%COMP%]{padding:0 3vw}#avatarpic[_ngcontent-%COMP%]{width:80%;padding:0 10%}#avatarpic[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:.7em solid var(--blue)}#sobremi[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:before{height:1.2em}}@media screen and (min-width: 1000px){#aboutcontainer[_ngcontent-%COMP%]{padding:0 5vw}#avatartext[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding:0 .5em 1em}#aboutcontainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 4em 2em 2em}}@media screen and (min-width: 1200px){#avatartext[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding:0 2em 1em}}\"]\n  });\n  return AboutComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}